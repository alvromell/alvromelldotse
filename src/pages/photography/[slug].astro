---
import { getCollection, type CollectionEntry } from 'astro:content';
import {Image} from 'astro:assets';
import BaseLayout from "../../layouts/BaseLayout.astro";
import Gallery from "../../layouts/Gallery.astro";
import Footer from '@components/Footer.astro';

type Props = {
    album: CollectionEntry<"albums">,
    images: any;
}

export const getStaticPaths = async () => {
    const albums = await getCollection("albums");
    
    const paths = albums.map(album => {
        
        return {
            params: {
                slug: album.slug
            },
            props: {
                album,
            }
        }
    })

    return paths;
}
const { album } = Astro.props;
---

<Gallery title={"Alvs bilder frÃ¥n " + album.data.title} transition:animate="slide">
    <h1 class="text-2xl md:text-3xl font-bold mt-6">{album.data.title}</h1>
    <a href="/photography" class="flex gap-2 text-slate-400 mt-2">
        <span class="text-sm">
            &lArr;
        </span>
        <span class="link-underline">Back to albums</span>
    </a>
    <h2 class="mt-6">{album.data.description}</h2>
    {album.data.images.map(img => (<Image alt={img.alt} src={img.img} class="mt-4 md:mt-8 p-1 bg-white"/>))}
    <Footer/>
</Gallery>
