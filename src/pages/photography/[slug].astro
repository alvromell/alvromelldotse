---
import { getCollection, type CollectionEntry } from 'astro:content';
import {Image} from 'astro:assets';
import BaseLayout from "../../layouts/BaseLayout.astro";
import Gallery from "../../layouts/Gallery.astro";

type Props = {
    album: CollectionEntry<"albums">,
    images: any;
}

export const getStaticPaths = async () => {
    const albums = await getCollection("albums");
    
    const paths = albums.map(album => {
        
        return {
            params: {
                slug: album.slug
            },
            props: {
                album,
            }
        }
    })

    return paths;
}
const { album } = Astro.props;
---

<Gallery title={"Alvs bilder frÃ¥n " + album.data.title} transition:animate="slide">
    <a href="/photography" class="link-underline font-medium">Back to albums</a>
    <h2 class="mt-4">{album.data.description}</h2>
    {album.data.images.map(img => (<Image alt={img.alt} src={img.img} class="mt-3 md:mt-6 p-2 md:p-4 bg-white"/>))}
</Gallery>

<style>
    
</style>